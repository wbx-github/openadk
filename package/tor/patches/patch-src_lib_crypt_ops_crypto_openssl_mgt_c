--- tor-0.4.8.10.orig/src/lib/crypt_ops/crypto_openssl_mgt.c	2023-12-08 19:49:19.000000000 +0100
+++ tor-0.4.8.10/src/lib/crypt_ops/crypto_openssl_mgt.c	2024-04-07 11:39:44.453246186 +0200
@@ -40,6 +40,11 @@ ENABLE_GCC_WARNING("-Wredundant-decls")
 
 #include <string.h>
 
+#ifdef OPENSSL_NO_ENGINE
+/* Android's OpenSSL seems to have removed all of its Engine support. */
+#define DISABLE_ENGINES
+#endif
+
 #ifndef NEW_THREAD_API
 /** A number of preallocated mutexes for use by OpenSSL. */
 static tor_mutex_t **openssl_mutexes_ = NULL;
